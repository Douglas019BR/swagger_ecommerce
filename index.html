
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Swagger UI</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro:300,600|Titillium+Web:400,600,700" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.24.2/swagger-ui.css" >
  <style>
    html
    {
      box-sizing: border-box;
      overflow: -moz-scrollbars-vertical;
      overflow-y: scroll;
    }
    *,
    *:before,
    *:after
    {
      box-sizing: inherit;
    }

    body {
      margin:0;
      background: #fafafa;
    }
    .topbar { display: none !important; } 

  </style>
</head>
<body>

<div id="swagger-ui"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.24.2/swagger-ui-bundle.js"> </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.24.2/swagger-ui-standalone-preset.js"> </script>
<script>
window.onload = function() {

  var spec = {"openapi": "3.0.0", "info": {"version": "1.0.0", "title": "e-Commerce Compra F\u00e1cil", "description": "A API de integra\u00e7\u00e3o do sistema **Compra F\u00e1cil** \u00e9 um web service REST projetado para facilitar parcerias digitais por meio da exposi\u00e7\u00e3o de dados de produtos e afiliados.\nVoltada para empresas que desejam integrar solu\u00e7\u00f5es como buscadores de pre\u00e7os, aplicativos de descontos e redes de afiliados, a API oferece recursos para busca, manipula\u00e7\u00e3o e ordena\u00e7\u00e3o de produtos, al\u00e9m do gerenciamento de afiliados.\n\nO objetivo desta API \u00e9 ampliar o alcance da plataforma **Compra F\u00e1cil**, promovendo uma experi\u00eancia de integra\u00e7\u00e3o simplificada e robusta para parceiros comerciais, desenvolvedores e terceiros, contribuindo para a expans\u00e3o do ecossistema digital.\n\nBenef\u00edcios:\n- **Busca de Produtos:** Filtros avan\u00e7ados por nome, categoria, faixa de pre\u00e7o e descontos.\n- **Ordena\u00e7\u00e3o Flex\u00edvel:** Permite listar produtos por menor/maior pre\u00e7o, mais vendidos e lan\u00e7amentos.\n- **Gest\u00e3o de Afiliados:** Criar, editar, excluir e listar afiliados de forma intuitiva.\n"}, "servers": [{"url": "https://localhost/3000"}], "paths": {"/products": {"get": {"tags": ["PRODUTOS"], "summary": "Retorna uma lista de produtos com filtros, ordena\u00e7\u00e3o e pagina\u00e7\u00e3o", "description": "Permite buscar, filtrar e ordenar produtos por diversos crit\u00e9rios.", "parameters": [{"name": "name", "in": "query", "description": "Nome parcial ou completo do produto", "required": false, "schema": {"type": "string"}}, {"name": "category", "in": "query", "description": "Categoria do produto", "required": false, "schema": {"type": "string"}}, {"name": "min_price", "in": "query", "description": "Pre\u00e7o m\u00ednimo", "required": false, "schema": {"type": "number", "format": "float"}}, {"name": "max_price", "in": "query", "description": "Pre\u00e7o m\u00e1ximo", "required": false, "schema": {"type": "number", "format": "float"}}, {"name": "on_discount", "in": "query", "description": "Filtrar apenas produtos com desconto", "required": false, "schema": {"type": "boolean"}}, {"name": "sort", "in": "query", "description": "Ordena\u00e7\u00e3o dos resultados (pode ser combinado com asc ou desc)", "required": false, "schema": {"type": "string", "enum": ["price", "sales", "release_date"]}}, {"name": "order", "in": "query", "description": "Dire\u00e7\u00e3o da ordena\u00e7\u00e3o (ascendente ou descendente)", "required": false, "schema": {"type": "string", "enum": ["asc", "desc"]}}, {"name": "page", "in": "query", "description": "N\u00famero da p\u00e1gina para a pagina\u00e7\u00e3o", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1}}, {"name": "page_size", "in": "query", "description": "Quantidade de produtos por p\u00e1gina", "required": false, "schema": {"type": "integer", "minimum": 1, "maximum": 100, "default": 10}}], "responses": {"200": {"description": "Lista de produtos retornada com sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"total": {"type": "integer", "description": "Total de produtos encontrados"}, "page": {"type": "integer", "description": "P\u00e1gina atual"}, "page_size": {"type": "integer", "description": "Tamanho da p\u00e1gina atual"}, "products": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string", "description": "ID do produto"}, "name": {"type": "string", "description": "Nome do produto"}, "category": {"type": "string", "description": "Categoria do produto"}, "price": {"type": "number", "format": "float", "description": "Pre\u00e7o do produto"}, "sales": {"type": "integer", "description": "Quantidade de vendas"}, "release_date": {"type": "string", "format": "date", "description": "Data de lan\u00e7amento"}, "discount": {"type": "number", "format": "float", "description": "Porcentagem de desconto"}}}}}}}}}, "429": {"description": "N\u00famero de chamadas excedido"}, "500": {"description": "Erro interno do servidor"}}}, "post": {"tags": ["PRODUTOS"], "summary": "Cria um novo produto", "description": "Endpoint para criar um novo produto com os campos necess\u00e1rios.", "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "required": ["name", "category", "price", "release_date"], "properties": {"name": {"type": "string", "description": "Nome do produto", "example": "Smartphone Z"}, "category": {"type": "string", "description": "Categoria do produto", "example": "Eletr\u00f4nicos"}, "description": {"type": "string", "description": "Descri\u00e7\u00e3o do produto", "example": "Smartphone de \u00faltima gera\u00e7\u00e3o com c\u00e2mera de 108 MP."}, "price": {"type": "number", "format": "float", "description": "Pre\u00e7o do produto", "example": 1999.99}, "discount": {"type": "number", "format": "float", "description": "Porcentagem de desconto (opcional)", "example": 10.0}, "release_date": {"type": "string", "format": "date", "description": "Data de lan\u00e7amento do produto", "example": "2024-01-15"}, "sales": {"type": "integer", "description": "N\u00famero inicial de vendas (opcional)", "example": 0}}}}}}, "responses": {"201": {"description": "Produto criado com sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"id": {"type": "string", "description": "ID do produto criado", "example": "12345"}, "name": {"type": "string", "description": "Nome do produto", "example": "Smartphone Z"}, "category": {"type": "string", "description": "Categoria do produto", "example": "Eletr\u00f4nicos"}, "price": {"type": "number", "format": "float", "description": "Pre\u00e7o do produto", "example": 1999.99}, "discount": {"type": "number", "format": "float", "description": "Porcentagem de desconto", "example": 10.0}, "release_date": {"type": "string", "format": "date", "description": "Data de lan\u00e7amento do produto", "example": "2024-01-15"}}}}}}, "400": {"description": "Requisi\u00e7\u00e3o inv\u00e1lida (valida\u00e7\u00e3o falhou)", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string", "description": "Mensagem de erro detalhando a falha de valida\u00e7\u00e3o", "example": "O campo 'name' \u00e9 obrigat\u00f3rio."}}}}}}, "429": {"description": "Muitas requisi\u00e7\u00f5es"}, "500": {"description": "Erro interno"}}}}, "/products/{id}": {"get": {"tags": ["PRODUTOS"], "summary": "Retorna um produto pelo ID", "description": "Recupera os detalhes de um produto espec\u00edfico.", "parameters": [{"name": "id", "in": "path", "required": true, "description": "ID do produto a ser recuperado.", "schema": {"type": "string"}}], "responses": {"200": {"description": "Produto retornado com sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"id": {"type": "string"}, "name": {"type": "string"}, "category": {"type": "string"}, "price": {"type": "number"}}}}}}, "404": {"description": "Produto n\u00e3o encontrado"}, "500": {"description": "Erro interno"}}}, "put": {"tags": ["PRODUTOS"], "summary": "Atualiza um produto pelo ID", "description": "Atualiza as informa\u00e7\u00f5es de um produto existente.", "parameters": [{"name": "id", "in": "path", "required": true, "description": "ID do produto a ser atualizado.", "schema": {"type": "string"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"name": {"type": "string", "description": "Nome do produto"}, "category": {"type": "string", "description": "Categoria do produto"}, "price": {"type": "number", "description": "Pre\u00e7o do produto"}}}}}}, "responses": {"200": {"description": "Produto atualizado com sucesso"}, "400": {"description": "Requisi\u00e7\u00e3o inv\u00e1lida"}, "404": {"description": "Produto n\u00e3o encontrado"}, "500": {"description": "Erro interno"}}}, "delete": {"tags": ["PRODUTOS"], "summary": "Remove um produto pelo ID", "description": "Exclui um produto existente.", "parameters": [{"name": "id", "in": "path", "required": true, "description": "ID do produto a ser exclu\u00eddo.", "schema": {"type": "string"}}], "responses": {"204": {"description": "Produto exclu\u00eddo com sucesso"}, "404": {"description": "Produto n\u00e3o encontrado"}, "500": {"description": "Erro interno"}}}}, "/afiliados": {"get": {"tags": ["AFILIADOS"], "summary": "Lista as empresas cadastrados", "description": "Retorna a lista de empresas cadastradas", "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "integer", "example": 1}, "name": {"type": "string", "example": "Nome do BM"}, "cnpj": {"type": "string", "example": "11111111111111"}, "company_id": {"type": "integer", "example": 1}, "updated_at": {"type": "string", "format": "date-time", "example": "2024-01-01T19:00:00.000Z"}}}}}}}, "500": {"description": "Erro no servidor", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string", "example": "Erro interno do servidor."}}}}}}}}, "post": {"tags": ["AFILIADOS"], "summary": "Envia mensagens WhatsApp oficial", "description": "Envia uma lista de mensagens de texto para disparos a partir da conta oficial do whatsapp. Essa lista deve conter no m\u00e1ximo 10.000 elementos.", "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"template_id": {"type": "integer"}, "phone_number_id": {"type": "integer"}, "cost_center_id": {"type": "integer"}, "campaign_id": {"type": "integer"}, "contacts": {"type": "array", "items": {"type": "object", "properties": {"phone_number": {"type": "string"}, "template_variables": {"type": "array", "items": {"type": "string", "minLength": 1}}, "bot_variables": {"type": "array", "items": {"type": "string", "minLength": 1}}}}}}, "required": ["template_id", "phone_number_id", "cost_center_id", "contacts"]}}}}, "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"success": {"type": "boolean"}}}}}}, "400": {"description": "Erros no corpo da requisi\u00e7\u00e3o"}, "429": {"description": "N\u00famero de chamadas excedido"}, "500": {"description": "Erro interno do servidor"}}}, "delete": {"tags": ["AFILIADOS"], "summary": "Cria campanha de whatsapp", "description": "Cria campanha de whatsapp", "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"id": {"type": "integer", "description": "Id da campanha"}, "title": {"type": "string", "description": "T\u00edtulo da campanha"}, "cost_center_name": {"type": "string", "description": "Nome do centro de custo"}, "cost_center_id": {"type": "integer", "description": "Id do Centro de custo"}}}}}}, "400": {"description": "Erros no corpo da requisi\u00e7\u00e3o"}, "429": {"description": "N\u00famero de chamadas excedido"}, "500": {"description": "Erro interno do servidor"}}}}, "/afiliados/{id}": {"get": {"tags": ["AFILIADOS"], "summary": "Lista todos os telefones cadastrados ao BM", "description": "Retorna a lista de telefones cadastrados ao BM", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "integer", "example": 1}, "cost_center_id": {"type": "integer", "nullable": true, "example": 1}, "quality_score": {"type": "string", "nullable": true, "example": "GREEN"}, "messaging_limit": {"type": "string", "nullable": true, "example": "TIER_250K"}, "name": {"type": "string", "example": "Nome verificado"}, "phone": {"type": "string", "example": "+55 11 1234-56789"}}}}}}}, "500": {"description": "Erro no servidor", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string", "example": "Erro interno do servidor."}}}}}}}}, "put": {"tags": ["AFILIADOS"], "summary": "Envia mensagens WhatsApp n\u00e3o oficial", "description": "Envia uma lista de mensagens de texto para disparos de whatsapp n\u00e3o oficial. Essa lista deve conter no m\u00e1ximo 1.000 elementos.", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "array", "items": {"type": "object", "properties": {"message": {"type": "string", "description": "Mensagem a ser enviada", "example": "teste mensagem 3"}, "phone": {"type": "string", "description": "Telefone para o qual a mensagem ser\u00e1 enviada", "example": "19991444444"}, "campaign_id": {"type": "integer", "description": "Id da campanha", "example": 12}}, "required": ["message", "phone"]}}}}}, "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"success": {"type": "boolean", "description": "Indica se a opera\u00e7\u00e3o foi bem-sucedida", "example": true}}}}}}, "400": {"description": "Erros no corpo da requisi\u00e7\u00e3o"}, "429": {"description": "N\u00famero de chamadas excedido"}, "500": {"description": "Erro interno do servidor"}}}}}, "components": {"securitySchemes": {"ApiKeyAuthId": {"type": "apiKey", "in": "header", "name": "x-api-key-id"}}, "schemas": {"produto": {"title": "DLR do SMS", "description": "Callback a ser recebido na url informada. A url deve ser informada no Body ao enviar a mensagem no campo \"url_callback_dlr\".", "type": "object", "properties": {"status": {"description": "Status de retorno do CallbackDLR.\n  ERROR - Quando houver algum tipo de erro, vira descrito no campo reason_error a causa.\n  PROCESSED - Se n\u00e3o tiver erro sint\u00e1tico no n\u00famero, significa que a mensagem foi enviada para processamento.\n  SENT_TO_COMPANY - Enviado para operadora.\n  INVALID - O n\u00famero \u00e9 sintaticamente correto por\u00e9m n\u00e3o esta ativo na rede.\n  DELIVERED_TO_CELLPHONE - Entregue no aparelho.\n  NOT_DELIVERED_TO_CELLPHONE - N\u00e3o entregue no aparelho.\n  BLACKLIST_USER: Se for escolhido usar a Blacklist personalizada nessa mensagem, esse status significa que o mesmo esta na lista.\n  BLACKLIST_NEXUS: Se for escolhido usar a Blacklist do Nexus nessa mensagem, esse status significa que o mesmo esta na lista.\n  NOT_IN_WHITELIST: Se for escolhido usar a whitelist nessa mensagem, isso signifca que o n\u00famero n\u00e3o esta na lista.\n", "type": "string", "example": "PROCESSED"}, "reason_error": {"description": "Caso o status seja ERROR, esse campo ir\u00e1 informar o motivo do mesmo.", "type": "string", "example": "Invalid syntax for phone number"}, "reference": {"description": "Sera retornado o reference caso seja informado no envio das mensagens.", "type": "string", "example": "refId2"}, "phone": {"description": "O telefone para qual a mensagem foi enviada", "type": "string", "example": 5511111111111}, "message": {"description": "A mensagem que foi enviada.", "type": "string", "example": "Oi, tudo bem?"}}}}}, "security": [{"ApiKeyAuthId": []}]};

  // Build a system
  const ui = SwaggerUIBundle({
    url: 'https://petstore3.swagger.io/api/v3/openapi.json',
    spec: spec,
    dom_id: '#swagger-ui',
    deepLinking: true,
    presets: [
      SwaggerUIBundle.presets.apis,
      SwaggerUIStandalonePreset
    ],
    plugins: [
      SwaggerUIBundle.plugins.DownloadUrl
    ],
    layout: "StandaloneLayout"
  })

  window.ui = ui
}
</script>
</body>

</html>
