
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Swagger UI</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro:300,600|Titillium+Web:400,600,700" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.24.2/swagger-ui.css" >
  <style>
    html
    {
      box-sizing: border-box;
      overflow: -moz-scrollbars-vertical;
      overflow-y: scroll;
    }
    *,
    *:before,
    *:after
    {
      box-sizing: inherit;
    }

    body {
      margin:0;
      background: #fafafa;
    }
    .topbar { display: none !important; } 

  </style>
</head>
<body>

<div id="swagger-ui"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.24.2/swagger-ui-bundle.js"> </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.24.2/swagger-ui-standalone-preset.js"> </script>
<script>
window.onload = function() {

  var spec = {"openapi": "3.0.0", "info": {"version": "1.0.0", "title": "e-Commerce Compra F\u00e1cil", "description": "A API de integra\u00e7\u00e3o do sistema Nexus, \u00e9 um web service REST, atrav\u00e9s da integra\u00e7\u00e3o \u00e9 possivel criar campanhas e mensagens de sms e whatsapp.\nPara receber os callbacks de sms (status e resposta) \u00e9 necess\u00e1rio informar seus endere\u00e7os nos seus respectivos campos no corpo da requisi\u00e7\u00e3o no envio da mensagem, conforme consta na documenta\u00e7\u00e3o.\nMaiores detalhes dos callbacks est\u00e3o dados no schema na parte inferior do documento.\n"}, "servers": [{"url": "https://localhost/3000"}], "paths": {"/produtos": {"get": {"tags": ["PRODUTOS"], "summary": "Exibe as rotas dispon\u00edveis para o usu\u00e1rio", "description": "Retorna a lista de rotas dispon\u00edveis para o usu\u00e1rio", "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"success": {"type": "boolean"}, "allowed_routes": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "integer"}, "route_name": {"type": "string"}, "description": {"type": "string"}}}}}}}}}, "400": {"description": "Erros no corpo da requisi\u00e7\u00e3o"}, "429": {"description": "N\u00famero de chamadas excedido"}, "500": {"description": "Erro interno do servidor"}}}, "post": {"tags": ["PRODUTOS"], "summary": "Criar produto", "description": "Cria um produto", "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string", "maxLength": 765}, "phone": {"type": "string", "maxLength": 14, "minLength": 11}, "url_callback_dlr": {"type": "string", "maxLength": 256}, "url_callback_mo": {"type": "string", "maxLength": 256}, "reference": {"type": "string", "maxLength": 256}, "campaign_id": {"type": "integer"}, "name": {"type": "string"}, "cpf": {"type": "string"}}}}}}, "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"success": {"type": "boolean"}}}}}}, "400": {"description": "Erros na requisi\u00e7\u00e3o"}, "413": {"description": "Payload muito grande"}, "429": {"description": "Muitas requisi\u00e7\u00f5es"}, "500": {"description": "Erro interno"}}}}, "/produtos/{id}": {"get": {"tags": ["PRODUTOS"], "summary": "Exibe as campanhas do usu\u00e1rio", "description": "Retorna a lista de campanhas do usu\u00e1rio, 25 campanhas por p\u00e1gina", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}, {"name": "page", "in": "query", "description": "N\u00famero da p\u00e1gina (opcional)", "required": false, "schema": {"type": "integer", "minimum": 1, "example": 1}}], "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"success": {"type": "boolean"}, "campaigns": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "integer"}, "title": {"type": "string"}, "cost_center": {"type": "object", "properties": {"id": {"type": "integer"}, "name": {"type": "string"}}}, "start_hour": {"type": "string"}, "end_hour": {"type": "string"}, "schedule_date": {"type": "string"}, "route": {"type": "string"}, "status": {"type": "string"}, "use_whitelist": {"type": "boolean"}, "created_at": {"type": "string"}}}}, "pagination": {"type": "object", "properties": {"total_pages": {"type": "integer"}, "current_page": {"type": "integer"}, "total_campaigns": {"type": "integer"}}}}}}}}}}, "put": {"tags": ["PRODUTOS"], "summary": "Atualizar produto", "description": "Atualiza um produto existente", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"title": {"type": "string", "maxLength": 128}, "cost_center_id": {"type": "integer"}, "cost_center_name": {"type": "string", "maxLength": 128}, "schedule_date": {"type": "string"}, "start_hour": {"type": "string"}, "end_hour": {"type": "string"}, "total_messages": {"type": "string"}, "use_whitelist": {"type": "boolean"}, "route_id": {"type": "integer"}}}}}}, "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"id": {"type": "integer"}, "title": {"type": "string"}, "cost_center_name": {"type": "string"}, "cost_center_id": {"type": "integer"}}}}}}, "400": {"description": "Requisi\u00e7\u00e3o inv\u00e1lida"}, "429": {"description": "Muitas requisi\u00e7\u00f5es"}, "500": {"description": "Erro interno"}}}}, "/afiliados": {"get": {"tags": ["AFILIADOS"], "summary": "Lista as empresas cadastrados", "description": "Retorna a lista de empresas cadastradas", "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "integer", "example": 1}, "name": {"type": "string", "example": "Nome do BM"}, "cnpj": {"type": "string", "example": "11111111111111"}, "company_id": {"type": "integer", "example": 1}, "updated_at": {"type": "string", "format": "date-time", "example": "2024-01-01T19:00:00.000Z"}}}}}}}, "500": {"description": "Erro no servidor", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string", "example": "Erro interno do servidor."}}}}}}}}, "post": {"tags": ["AFILIADOS"], "summary": "Envia mensagens WhatsApp oficial", "description": "Envia uma lista de mensagens de texto para disparos a partir da conta oficial do whatsapp. Essa lista deve conter no m\u00e1ximo 10.000 elementos.", "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"template_id": {"type": "integer"}, "phone_number_id": {"type": "integer"}, "cost_center_id": {"type": "integer"}, "campaign_id": {"type": "integer"}, "contacts": {"type": "array", "items": {"type": "object", "properties": {"phone_number": {"type": "string"}, "template_variables": {"type": "array", "items": {"type": "string", "minLength": 1}}, "bot_variables": {"type": "array", "items": {"type": "string", "minLength": 1}}}}}}, "required": ["template_id", "phone_number_id", "cost_center_id", "contacts"]}}}}, "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"success": {"type": "boolean"}}}}}}, "400": {"description": "Erros no corpo da requisi\u00e7\u00e3o"}, "429": {"description": "N\u00famero de chamadas excedido"}, "500": {"description": "Erro interno do servidor"}}}, "delete": {"tags": ["AFILIADOS"], "summary": "Cria campanha de whatsapp", "description": "Cria campanha de whatsapp", "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"title": {"type": "string", "maxLength": 128}, "cost_center_id": {"type": "integer"}, "cost_center_name": {"type": "string", "maxLength": 128}}}}}}, "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"id": {"type": "integer", "description": "Id da campanha"}, "title": {"type": "string", "description": "T\u00edtulo da campanha"}, "cost_center_name": {"type": "string", "description": "Nome do centro de custo"}, "cost_center_id": {"type": "integer", "description": "Id do Centro de custo"}}}}}}, "400": {"description": "Erros no corpo da requisi\u00e7\u00e3o"}, "429": {"description": "N\u00famero de chamadas excedido"}, "500": {"description": "Erro interno do servidor"}}}}, "/afiliados/{id}": {"get": {"tags": ["AFILIADOS"], "summary": "Lista todos os telefones cadastrados ao BM", "description": "Retorna a lista de telefones cadastrados ao BM", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "integer", "example": 1}, "cost_center_id": {"type": "integer", "nullable": true, "example": 1}, "quality_score": {"type": "string", "nullable": true, "example": "GREEN"}, "messaging_limit": {"type": "string", "nullable": true, "example": "TIER_250K"}, "name": {"type": "string", "example": "Nome verificado"}, "phone": {"type": "string", "example": "+55 11 1234-56789"}}}}}}}, "500": {"description": "Erro no servidor", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string", "example": "Erro interno do servidor."}}}}}}}}, "put": {"tags": ["AFILIADOS"], "summary": "Envia mensagens WhatsApp n\u00e3o oficial", "description": "Envia uma lista de mensagens de texto para disparos de whatsapp n\u00e3o oficial. Essa lista deve conter no m\u00e1ximo 1.000 elementos.", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "array", "items": {"type": "object", "properties": {"message": {"type": "string", "description": "Mensagem a ser enviada", "example": "teste mensagem 3"}, "phone": {"type": "string", "description": "Telefone para o qual a mensagem ser\u00e1 enviada", "example": "19991444444"}, "campaign_id": {"type": "integer", "description": "Id da campanha", "example": 12}}, "required": ["message", "phone"]}}}}}, "responses": {"200": {"description": "Sucesso", "content": {"application/json": {"schema": {"type": "object", "properties": {"success": {"type": "boolean", "description": "Indica se a opera\u00e7\u00e3o foi bem-sucedida", "example": true}}}}}}, "400": {"description": "Erros no corpo da requisi\u00e7\u00e3o"}, "429": {"description": "N\u00famero de chamadas excedido"}, "500": {"description": "Erro interno do servidor"}}}}}, "components": {"securitySchemes": {"ApiKeyAuthId": {"type": "apiKey", "in": "header", "name": "x-api-key-id"}}, "schemas": {"produto": {"title": "DLR do SMS", "description": "Callback a ser recebido na url informada. A url deve ser informada no Body ao enviar a mensagem no campo \"url_callback_dlr\".", "type": "object", "properties": {"status": {"description": "Status de retorno do CallbackDLR.\n  ERROR - Quando houver algum tipo de erro, vira descrito no campo reason_error a causa.\n  PROCESSED - Se n\u00e3o tiver erro sint\u00e1tico no n\u00famero, significa que a mensagem foi enviada para processamento.\n  SENT_TO_COMPANY - Enviado para operadora.\n  INVALID - O n\u00famero \u00e9 sintaticamente correto por\u00e9m n\u00e3o esta ativo na rede.\n  DELIVERED_TO_CELLPHONE - Entregue no aparelho.\n  NOT_DELIVERED_TO_CELLPHONE - N\u00e3o entregue no aparelho.\n  BLACKLIST_USER: Se for escolhido usar a Blacklist personalizada nessa mensagem, esse status significa que o mesmo esta na lista.\n  BLACKLIST_NEXUS: Se for escolhido usar a Blacklist do Nexus nessa mensagem, esse status significa que o mesmo esta na lista.\n  NOT_IN_WHITELIST: Se for escolhido usar a whitelist nessa mensagem, isso signifca que o n\u00famero n\u00e3o esta na lista.\n", "type": "string", "example": "PROCESSED"}, "reason_error": {"description": "Caso o status seja ERROR, esse campo ir\u00e1 informar o motivo do mesmo.", "type": "string", "example": "Invalid syntax for phone number"}, "reference": {"description": "Sera retornado o reference caso seja informado no envio das mensagens.", "type": "string", "example": "refId2"}, "phone": {"description": "O telefone para qual a mensagem foi enviada", "type": "string", "example": 5511111111111}, "message": {"description": "A mensagem que foi enviada.", "type": "string", "example": "Oi, tudo bem?"}}}}}, "security": [{"ApiKeyAuthId": []}]};

  // Build a system
  const ui = SwaggerUIBundle({
    url: 'https://petstore3.swagger.io/api/v3/openapi.json',
    spec: spec,
    dom_id: '#swagger-ui',
    deepLinking: true,
    presets: [
      SwaggerUIBundle.presets.apis,
      SwaggerUIStandalonePreset
    ],
    plugins: [
      SwaggerUIBundle.plugins.DownloadUrl
    ],
    layout: "StandaloneLayout"
  })

  window.ui = ui
}
</script>
</body>

</html>
